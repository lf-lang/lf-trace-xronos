/**
 * Federated version of TracePluginCustomCmake.
 * Uses a cmake-include wrapper that searches upward for plugin.cmake,
 * making it robust to the deeper directory nesting of federated builds.
 * To run this test successfully,
 * build lf-trace-xronos with ./build.sh first.
 */
target C {
    tracing: true, // Turn on tracing.
    cmake-include: ["trace-fedcustomcmake.cmake"],  // Relative to this LF file.
    timeout: 5s,
}

import Sensor, Processing, Actuator from "lib/Components.lf"

federated reactor {
    s = new Sensor()
    p = new Processing()
    a = new Actuator()
    s.out -> p.in
    p.out -> a.in
}